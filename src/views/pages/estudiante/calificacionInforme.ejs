<%- include ../../partials/parte1Superior.ejs %>
<% let valoracion1, valoracion2 %>
<% let informe1, informe2 %>
<% let rowNumber %>

<script src="/js/estudianteAsignatura.ajax.js"></script>

</head>

<body>
  <div class="">
    
  </div>
  <!-- ///////////////////////////////////////////////////////7 -->

  <div class="container p-0 my-3">
    <h3>
      Informe     
    </h3> 
    <div class="">
      <div>
        <h5> <b><span id="spnCurso"> <%= curso.clave%> </span></b> - 
          <span id="spnAsignatura"> <%= asignatura.asignatura%>
          </span>
          <input id="spnIdAsignatura" value="<%= asignatura.idAsignatura%>" hidden>
            
        </h5>
        <hr class="mb-0">
      </div>
      
         
          <% estudiantesPorCurso.forEach(function(estuPorCurso){ %>
            <% rowNumber=''%>
            <% valoracion1='' %>
            <% valoracion2='' %>
                  <% informe1='' %>
                  <% informe2='' %>
                  <% for (var l=estudiantesPorCalificaciones.length, i=0; i < l; i++) { %>
                    <% estuPorCalificaciones = estudiantesPorCalificaciones[i]%>
                    <% if( estuPorCurso.estudiante === estuPorCalificaciones.estudiante ){ %>
                      <% valoracion1 = estuPorCalificaciones.valoracion1%>
                      <% valoracion2 = estuPorCalificaciones.valoracion2%>
                      <% informe1 = estuPorCalificaciones.informe1%>
                      <% informe2 = estuPorCalificaciones.informe2%>
                      <% rowNumber = estuPorCalificaciones._rowNumber%>
                      <% break %>
                    <% } %>
      
                  <% }; %>
              
                  <div class="mt-3">
                    
                    <div class="card">
                      <div class="card-header"><h5><%= estuPorCurso.estudianteNombre%></h5></div>
                      <div class="card-body">
                        <small>
                          <b>
                            1° Perído:  &nbsp
                          </b> 
                        </small>
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">
                          <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>
                        </svg>
                        <% calificacionCodigos.forEach(function(calificacionCodigo){ %>
                          <% if( valoracion1==calificacionCodigo.simbolo ){ %>
        
                              <%=calificacionCodigo.simbolo%> - <%=calificacionCodigo.letra%>
        
                          <% }%>
        
                        <% }); %>
                        
                        &nbsp
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-info-lg" viewBox="0 0 16 16">
                          <path d="m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704l1.323-6.208Zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0Z"/>
                        </svg>
                        
                      <%= informe1%>
                            <hr>
                            <small>
                              <b>
                                2° Perído:  &nbsp
                              </b> 
                            </small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">
                              <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>
                            </svg>
                            <% calificacionCodigos.forEach(function(calificacionCodigo){ %>
                              <% if( valoracion2==calificacionCodigo.simbolo ){ %>
            
                                  <%=calificacionCodigo.simbolo%> - <%=calificacionCodigo.letra%>
            
                              <% }%>
            
                            <% }); %>
                            
                            &nbsp
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-info-lg" viewBox="0 0 16 16">
                              <path d="m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704l1.323-6.208Zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0Z"/>
                            </svg>
                            
                          <%= informe2%>
                      </div> 
                      <div class="card-footer">
                        <%let promedio = Math.round((parseInt(valoracion2) + parseInt(valoracion1))/2) %>
                        promedio: 
                        <% calificacionCodigos.forEach(function(calificacionCodigo){ %>
                          <% if( promedio==calificacionCodigo.simbolo ){ %>
        
                              <%=calificacionCodigo.simbolo%> - <%=calificacionCodigo.letra%>
        
                          <% }%>
        
                        <% }); %>
                      </div>
                    </div>
                  </div>
                

            <!-- 1° Informe -->








          <% }); %>

      
    </div>

  </div>
  <hr>
 


<%- include ../../partials/parte2Inferior.ejs %>